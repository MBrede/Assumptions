<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Listen | Robustheit</title>
  <meta name="description" content="Seminar zur Vertiefung psychologischer Methodenlehre - Robustheit und Voraussetzungstests" />
  <meta name="generator" content="bookdown 0.22 and GitBook 2.6.7" />

  <meta property="og:title" content="Listen | Robustheit" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Seminar zur Vertiefung psychologischer Methodenlehre - Robustheit und Voraussetzungstests" />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Listen | Robustheit" />
  
  <meta name="twitter:description" content="Seminar zur Vertiefung psychologischer Methodenlehre - Robustheit und Voraussetzungstests" />
  

<meta name="author" content="Max Brede und Johannes Andres" />


<meta name="date" content="2021-10-25" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="schleifen.html"/>
<link rel="next" href="attribute.html"/>
<script src="libs/header-attrs-2.11/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Robustheit und Voraussetzungstests</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Vorwort</a></li>
<li class="chapter" data-level="" data-path="lehrplan.html"><a href="lehrplan.html"><i class="fa fa-check"></i>Lehrplan</a>
<ul>
<li class="chapter" data-level="" data-path="lehrplan.html"><a href="lehrplan.html#semesterplan"><i class="fa fa-check"></i>Semesterplan</a></li>
</ul></li>
<li class="part"><span><b>I Programmieren in R</b></span></li>
<li class="chapter" data-level="" data-path="funktionen.html"><a href="funktionen.html"><i class="fa fa-check"></i>Funktionen</a>
<ul>
<li class="chapter" data-level="" data-path="funktionen.html"><a href="funktionen.html#geschachtelte-funktionen"><i class="fa fa-check"></i>Geschachtelte Funktionen</a></li>
<li class="chapter" data-level="" data-path="funktionen.html"><a href="funktionen.html#optionale-argumente"><i class="fa fa-check"></i>Optionale Argumente</a></li>
</ul></li>
<li><a href="if-statements.html#if-statements"><code>if</code>-Statements</a></li>
<li class="chapter" data-level="" data-path="zufallswerte.html"><a href="zufallswerte.html"><i class="fa fa-check"></i>Zufallswerte</a></li>
<li class="chapter" data-level="" data-path="schleifen.html"><a href="schleifen.html"><i class="fa fa-check"></i>Schleifen</a></li>
<li class="chapter" data-level="" data-path="listen.html"><a href="listen.html"><i class="fa fa-check"></i>Listen</a>
<ul>
<li class="chapter" data-level="" data-path="listen.html"><a href="listen.html#listen-und-datensätze"><i class="fa fa-check"></i>Listen und Datensätze</a></li>
<li class="chapter" data-level="" data-path="listen.html"><a href="listen.html#arbeiten-mit-listen"><i class="fa fa-check"></i>Arbeiten mit Listen</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="attribute.html"><a href="attribute.html"><i class="fa fa-check"></i>Attribute</a></li>
<li class="chapter" data-level="" data-path="functionals.html"><a href="functionals.html"><i class="fa fa-check"></i>Functionals</a>
<ul>
<li><a href="functionals.html#purrrmap"><code>purrr::map</code></a></li>
<li class="chapter" data-level="" data-path="functionals.html"><a href="functionals.html#exkurs-iteratoren-vergleich"><i class="fa fa-check"></i>Exkurs: Iteratoren-Vergleich</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="literatur.html"><a href="literatur.html"><i class="fa fa-check"></i>Literatur</a></li>
<li class="divider"></li>
<li><a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/"><img style="height:22px!important;margin-left:3px;vertical-align:text-bottom;" src="https://mirrors.creativecommons.org/presskit/icons/cc.svg?ref=chooser-v1"><img style="height:22px!important;margin-left:3px;vertical-align:text-bottom;" src="https://mirrors.creativecommons.org/presskit/icons/by.svg?ref=chooser-v1"><img style="height:22px!important;margin-left:3px;vertical-align:text-bottom;" src="https://mirrors.creativecommons.org/presskit/icons/sa.svg?ref=chooser-v1"></a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Robustheit</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="listen" class="section level1">
<h1>Listen</h1>
<p>Listen sind uns aus der R-Übung schon im Rahmen der <a href="https://mbrede.github.io/CAU_Kiel_EDVI/aggregation-und-filemanagement.html#lazy-evaluation">Gruppenweisen Aggregation mit <code>across</code></a> und <a href="https://mbrede.github.io/CAU_KIEL_EDVII/einfache-lineare-zusammenh%C3%A4nge.html#weitere-parameter">als Output von Inferenzstatistischen Funktionen</a> untergekommen.
Aber was genau Listen architektonisch sind, haben wir bisher übergangen.</p>
<p>Listen sind in R ziemlich ähnlich zu Vektoren <a href="#fn3" class="footnote-ref" id="fnref3"><sup>3</sup></a>. Sie bilden Aneinander-Kettungen von Objekten ab, bei denen wir die einzelnen Elemente benennen können.
Ein Unterschied zu Vektoren ist aber, dass die Objekte nicht von einem einzelnen Typ sein müssen.
Ein anderer Unterschied wird deutlich, wenn wir uns den Output von benannten Vektoren und Listen genauer anschauen.</p>
<div class="sourceCode" id="cb71"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb71-1"><a href="listen.html#cb71-1" aria-hidden="true" tabindex="-1"></a><span class="fu">c</span>(<span class="st">&#39;a&#39;</span><span class="ot">=</span> <span class="dv">1</span>,</span>
<span id="cb71-2"><a href="listen.html#cb71-2" aria-hidden="true" tabindex="-1"></a>  <span class="st">&#39;b&#39;</span><span class="ot">=</span> <span class="dv">2</span>)</span></code></pre></div>
<pre><code>## a b 
## 1 2</code></pre>
<div class="sourceCode" id="cb73"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb73-1"><a href="listen.html#cb73-1" aria-hidden="true" tabindex="-1"></a><span class="fu">list</span>(<span class="st">&#39;a&#39;</span><span class="ot">=</span> <span class="dv">1</span>,</span>
<span id="cb73-2"><a href="listen.html#cb73-2" aria-hidden="true" tabindex="-1"></a>     <span class="st">&#39;b&#39;</span><span class="ot">=</span> <span class="dv">2</span>)</span></code></pre></div>
<pre><code>## $a
## [1] 1
## 
## $b
## [1] 2</code></pre>
<p>Die Ausgabe der Liste ähnelt unter der jeweiligen Überschrift (z.B.: <code>$a</code>) dem Output, den wir bei einem unbenannten Vektor sehen:</p>
<div class="sourceCode" id="cb75"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb75-1"><a href="listen.html#cb75-1" aria-hidden="true" tabindex="-1"></a><span class="fu">c</span>(<span class="dv">1</span>)</span></code></pre></div>
<pre><code>## [1] 1</code></pre>
<p>Das liegt daran, dass in einer Liste unter dem Namen auch der ganze Vektor “abgespeichert” ist. Abgespeichert ist hier in Anführungszeichen, da in der Liste eigentlich nur ein Verweis auf einen Vektor liegt. Das kann man sich verdeutlichen, wenn man sich die Größen von Vektoren und Listen im Arbeitsspeicher anguckt.</p>
<p>Dazu erstellen wir einen Vektoren mit den Zahlen von 1:1000 und eine Liste, der wir dreimal diesen Vektor übergeben.</p>
<div class="sourceCode" id="cb77"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb77-1"><a href="listen.html#cb77-1" aria-hidden="true" tabindex="-1"></a>a <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">1000</span>)</span>
<span id="cb77-2"><a href="listen.html#cb77-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb77-3"><a href="listen.html#cb77-3" aria-hidden="true" tabindex="-1"></a>b <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="at">a =</span> a, <span class="at">b =</span> a, <span class="at">c =</span> a, <span class="at">d =</span> a)</span></code></pre></div>
<p>Wenn wir uns jetzt die Größen der beiden Objekte angucken, sehen wir dass die Liste kleiner ist, als vielleicht zuerst erwartet:</p>
<div class="sourceCode" id="cb78"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb78-1"><a href="listen.html#cb78-1" aria-hidden="true" tabindex="-1"></a>lobstr<span class="sc">::</span><span class="fu">obj_size</span>(a)</span></code></pre></div>
<pre><code>## 4,048 B</code></pre>
<div class="sourceCode" id="cb80"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb80-1"><a href="listen.html#cb80-1" aria-hidden="true" tabindex="-1"></a>lobstr<span class="sc">::</span><span class="fu">obj_size</span>(b)</span></code></pre></div>
<pre><code>## 4,544 B</code></pre>
<p>Wenn wir die Liste mit einem vergleichbaren Vektor gegenüberstellen sehen wir, dass dieser die Werte offensichtlich direkt ablegt, wohingegen die Liste die Werte nur einmal beinhaltet (plus ein bisschen Speicher für die wiederholten Verweise und Namen):</p>
<div class="sourceCode" id="cb82"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb82-1"><a href="listen.html#cb82-1" aria-hidden="true" tabindex="-1"></a>d <span class="ot">&lt;-</span> <span class="fu">c</span>(a, a, a, a)</span>
<span id="cb82-2"><a href="listen.html#cb82-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb82-3"><a href="listen.html#cb82-3" aria-hidden="true" tabindex="-1"></a>lobstr<span class="sc">::</span><span class="fu">obj_size</span>(a)</span></code></pre></div>
<pre><code>## 4,048 B</code></pre>
<div class="sourceCode" id="cb84"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb84-1"><a href="listen.html#cb84-1" aria-hidden="true" tabindex="-1"></a>lobstr<span class="sc">::</span><span class="fu">obj_size</span>(b)</span></code></pre></div>
<pre><code>## 4,544 B</code></pre>
<div class="sourceCode" id="cb86"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb86-1"><a href="listen.html#cb86-1" aria-hidden="true" tabindex="-1"></a>lobstr<span class="sc">::</span><span class="fu">obj_size</span>(d)</span></code></pre></div>
<pre><code>## 16,048 B</code></pre>
<p>Was passiert nun, wenn wir einen Teil eines der vier Einträge in der Liste ändern?</p>
<p>Dazu können wir die schon von <code>data.frames</code> bekannte Index-Variante mit dem <code>$</code>-Operator nutzen um einen der Vektoren in der Liste zu modifizieren:</p>
<div class="sourceCode" id="cb88"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb88-1"><a href="listen.html#cb88-1" aria-hidden="true" tabindex="-1"></a>b<span class="sc">$</span>a[<span class="dv">1</span>] <span class="ot">&lt;-</span> <span class="dv">5</span></span>
<span id="cb88-2"><a href="listen.html#cb88-2" aria-hidden="true" tabindex="-1"></a>lobstr<span class="sc">::</span><span class="fu">obj_size</span>(b)</span></code></pre></div>
<pre><code>## 12,592 B</code></pre>
<p>Die Liste wird größer. Dass sie nicht in Inkrementen von 4000 B größer wird, liegt daran, dass die Zahlen in <code>a</code> als Sequenz von R effizienter gespeichert werden können, als als einfache Zahlen. Wenn wir uns <code>a</code> alleine angucken und die Größe vor und nach Änderung der ersten Stelle betrachten, wird das deutlich:</p>
<div class="sourceCode" id="cb90"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb90-1"><a href="listen.html#cb90-1" aria-hidden="true" tabindex="-1"></a>lobstr<span class="sc">::</span><span class="fu">obj_size</span>(a)</span></code></pre></div>
<pre><code>## 4,048 B</code></pre>
<div class="sourceCode" id="cb92"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb92-1"><a href="listen.html#cb92-1" aria-hidden="true" tabindex="-1"></a>a[<span class="dv">1</span>] <span class="ot">&lt;-</span> <span class="dv">5</span></span>
<span id="cb92-2"><a href="listen.html#cb92-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb92-3"><a href="listen.html#cb92-3" aria-hidden="true" tabindex="-1"></a>lobstr<span class="sc">::</span><span class="fu">obj_size</span>(a)</span></code></pre></div>
<pre><code>## 8,048 B</code></pre>
<p>Für mehr Details zu diesem Speicher-Verhalten und dem zugrunde liegenden Prinzip ist das kostenlos <a href="https://adv-r.hadley.nz/index.html">hier zugängliche</a> Buch “Advanced R” <span class="citation">Wickham (<a href="#ref-wickhamAdvanced2019" role="doc-biblioref">2019</a>)</span> sehr gut, vor allem die <a href="https://adv-r.hadley.nz/names-values.html#binding-basics">Kapitel 2.2</a> und folgende und das <a href="https://adv-r.hadley.nz/vectors-chap.html">Kapitel über Vektoren</a>.</p>
<div id="aufgabe-5" class="section level4">
<h4>Aufgabe</h4>
<p>Überlege dir, wie sich der Speicherbedarf der Liste <code>b</code> ändert, wenn Du den zweiten Platz der Liste mit dem ersten Platz der Liste überschreibst.
Probiere dann aus, ob sich deine Vorhersage bewahrheitet.
Überprüfe dann, was passiert, wenn du die erste Stelle des dritten Platzes der Liste durch fünf ersetzt.
Was könnte hier passiert sein?</p>
<details>
<summary>
Antwort
</summary>
<div class="sourceCode" id="cb94"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb94-1"><a href="listen.html#cb94-1" aria-hidden="true" tabindex="-1"></a>a <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">1000</span>)</span>
<span id="cb94-2"><a href="listen.html#cb94-2" aria-hidden="true" tabindex="-1"></a>b <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="at">a =</span> a,<span class="at">b =</span> a,<span class="at">c =</span> a,<span class="at">d =</span> a)</span>
<span id="cb94-3"><a href="listen.html#cb94-3" aria-hidden="true" tabindex="-1"></a>b<span class="sc">$</span>a[<span class="dv">1</span>] <span class="ot">&lt;-</span> <span class="dv">5</span></span>
<span id="cb94-4"><a href="listen.html#cb94-4" aria-hidden="true" tabindex="-1"></a>lobstr<span class="sc">::</span><span class="fu">obj_size</span>(b)</span></code></pre></div>
<pre><code>## 12,592 B</code></pre>
<div class="sourceCode" id="cb96"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb96-1"><a href="listen.html#cb96-1" aria-hidden="true" tabindex="-1"></a>b<span class="sc">$</span>b <span class="ot">&lt;-</span> b<span class="sc">$</span>a</span>
<span id="cb96-2"><a href="listen.html#cb96-2" aria-hidden="true" tabindex="-1"></a>lobstr<span class="sc">::</span><span class="fu">obj_size</span>(b)</span></code></pre></div>
<pre><code>## 12,592 B</code></pre>
<div class="sourceCode" id="cb98"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb98-1"><a href="listen.html#cb98-1" aria-hidden="true" tabindex="-1"></a>b<span class="sc">$</span>c[<span class="dv">1</span>] <span class="ot">&lt;-</span> <span class="dv">5</span></span>
<span id="cb98-2"><a href="listen.html#cb98-2" aria-hidden="true" tabindex="-1"></a>lobstr<span class="sc">::</span><span class="fu">obj_size</span>(b)</span></code></pre></div>
<pre><code>## 20,640 B</code></pre>
</details>
</div>
<div id="listen-und-datensätze" class="section level2">
<h2>Listen und Datensätze</h2>
<p>Das Arbeiten mit Listen ist ziemlich ähnlich zu der mit Datensätzen.
Das liegt ganz einfach daran, dass Datensätze auch Listen sind, der einzige wirklich wichtige Unterschied ist, dass Datensätze im Vergleich zu Listen einheitliche Längen von den eingefügten Vektoren erwarten.</p>
<p>Zu sehen ist dieses Verhältnis ganz einfach, wenn man sich den <code>mode</code> eines Datensatzes anguckt:</p>
<div class="sourceCode" id="cb100"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb100-1"><a href="listen.html#cb100-1" aria-hidden="true" tabindex="-1"></a>a <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>,</span>
<span id="cb100-2"><a href="listen.html#cb100-2" aria-hidden="true" tabindex="-1"></a>                <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>)</span>
<span id="cb100-3"><a href="listen.html#cb100-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-4"><a href="listen.html#cb100-4" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(a)</span></code></pre></div>
<pre><code>## [1] &quot;data.frame&quot;</code></pre>
<div class="sourceCode" id="cb102"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb102-1"><a href="listen.html#cb102-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mode</span>(a)</span></code></pre></div>
<pre><code>## [1] &quot;list&quot;</code></pre>
<p>Der Unterschied ist in den <code>attributes</code> des Datensatzes festgelegt.</p>
<div class="sourceCode" id="cb104"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb104-1"><a href="listen.html#cb104-1" aria-hidden="true" tabindex="-1"></a><span class="fu">attributes</span>(a)</span></code></pre></div>
<pre><code>## $names
## [1] &quot;X1.10&quot;   &quot;X1.10.1&quot;
## 
## $class
## [1] &quot;data.frame&quot;
## 
## $row.names
##  [1]  1  2  3  4  5  6  7  8  9 10</code></pre>
<p>Nur zum Spaß können wir so auch versuchen, umständlich einen Datensatz zu erstellen:</p>
<div class="sourceCode" id="cb106"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb106-1"><a href="listen.html#cb106-1" aria-hidden="true" tabindex="-1"></a>a <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>,<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>)</span>
<span id="cb106-2"><a href="listen.html#cb106-2" aria-hidden="true" tabindex="-1"></a><span class="fu">attributes</span>(a)</span></code></pre></div>
<pre><code>## NULL</code></pre>
<div class="sourceCode" id="cb108"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb108-1"><a href="listen.html#cb108-1" aria-hidden="true" tabindex="-1"></a><span class="fu">attributes</span>(a) <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="at">names =</span> letters[<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>],</span>
<span id="cb108-2"><a href="listen.html#cb108-2" aria-hidden="true" tabindex="-1"></a>                      <span class="at">row.names =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>,</span>
<span id="cb108-3"><a href="listen.html#cb108-3" aria-hidden="true" tabindex="-1"></a>                      <span class="at">class =</span> <span class="st">&quot;data.frame&quot;</span>)</span>
<span id="cb108-4"><a href="listen.html#cb108-4" aria-hidden="true" tabindex="-1"></a>a</span></code></pre></div>
<pre><code>##     a  b
## 1   1  1
## 2   2  2
## 3   3  3
## 4   4  4
## 5   5  5
## 6   6  6
## 7   7  7
## 8   8  8
## 9   9  9
## 10 10 10</code></pre>
<div id="aufgabe-6" class="section level4">
<h4>Aufgabe</h4>
<p>Überlege Dir, was wohl passiert, wenn du auf die gerade demonstrierte Art und Weise einen Datensatz erstellst, bei dem die eingefügten Vektoren von unterschiedlicher Länge sind.
Überprüfe dann, ob die Erwartungen stimmen.</p>
<details>
<summary>
Antwort
</summary>
<div class="sourceCode" id="cb110"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb110-1"><a href="listen.html#cb110-1" aria-hidden="true" tabindex="-1"></a>a <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">15</span>,<span class="dv">21</span><span class="sc">:</span><span class="dv">30</span>,<span class="dv">41</span><span class="sc">:</span><span class="dv">45</span>)</span>
<span id="cb110-2"><a href="listen.html#cb110-2" aria-hidden="true" tabindex="-1"></a><span class="fu">attributes</span>(a)</span></code></pre></div>
<pre><code>## NULL</code></pre>
<div class="sourceCode" id="cb112"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb112-1"><a href="listen.html#cb112-1" aria-hidden="true" tabindex="-1"></a><span class="fu">attributes</span>(a) <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="at">names =</span> letters[<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>],</span>
<span id="cb112-2"><a href="listen.html#cb112-2" aria-hidden="true" tabindex="-1"></a>                      <span class="at">row.names =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>,</span>
<span id="cb112-3"><a href="listen.html#cb112-3" aria-hidden="true" tabindex="-1"></a>                      <span class="at">class =</span> <span class="st">&quot;data.frame&quot;</span>)</span>
<span id="cb112-4"><a href="listen.html#cb112-4" aria-hidden="true" tabindex="-1"></a>a</span></code></pre></div>
<pre><code>## Warning in format.data.frame(if (omit) x[seq_len(n0), , drop = FALSE] else x, :
## corrupt data frame: columns will be truncated or padded with NAs</code></pre>
<pre><code>##     a  b    c
## 1   1 21   41
## 2   2 22   42
## 3   3 23   43
## 4   4 24   44
## 5   5 25   45
## 6   6 26 &lt;NA&gt;
## 7   7 27 &lt;NA&gt;
## 8   8 28 &lt;NA&gt;
## 9   9 29 &lt;NA&gt;
## 10 10 30 &lt;NA&gt;</code></pre>
</details>
</div>
</div>
<div id="arbeiten-mit-listen" class="section level2">
<h2>Arbeiten mit Listen</h2>
<p>Da Datensätze eigentlich nur Listen sind, gibt es Listen-Operationen die wir schon von Datensätzen kennen, bei denen wir einfach noch nicht wussten, dass sie eigentlich aus dem Listen-Kontext stammen.</p>
<p>Insbesondere sind die Operationen, die wir auch schon hier im Skript genutzt haben, Listen-Operationen, die wir aus dem <code>data.frame</code>-Kontext kennen.
Da wären das Anlegen von Spalten/Listen-Einträgen mit Namen, wie wir es eben gesehen haben:</p>
<div class="sourceCode" id="cb115"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb115-1"><a href="listen.html#cb115-1" aria-hidden="true" tabindex="-1"></a>a <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="at">a =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>)</span>
<span id="cb115-2"><a href="listen.html#cb115-2" aria-hidden="true" tabindex="-1"></a>b <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">a =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>)</span></code></pre></div>
<p>Und das Indizieren mit dem <code>$</code>-Operator:</p>
<div class="sourceCode" id="cb116"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb116-1"><a href="listen.html#cb116-1" aria-hidden="true" tabindex="-1"></a>a<span class="sc">$</span>a</span></code></pre></div>
<pre><code>##  [1]  1  2  3  4  5  6  7  8  9 10</code></pre>
<div class="sourceCode" id="cb118"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb118-1"><a href="listen.html#cb118-1" aria-hidden="true" tabindex="-1"></a>b<span class="sc">$</span>a</span></code></pre></div>
<pre><code>##  [1]  1  2  3  4  5  6  7  8  9 10</code></pre>
<p>Als kleinen Zusatz können wir uns noch die numerische Indizierung angucken, die bei Listen und damit auch Datensätzen mit doppelten eckigen Klammern funktioniert (<code>[[]]</code>). Dieser Index-Operator ist hilfreich, wenn nicht jedes mal für jeden Eintrag ein Name angelegt werden soll. Das kann zum Beispiel sinnvoll bei <code>functional</code>-Iteratoren sein, bei denen man nur eine schnelle Stapelverarbeitung plant, dazu aber später mehr.</p>
<p>Bei Listen und Datensätzen sieht der <code>[[]]</code>-Einsatz dann so aus:</p>
<div class="sourceCode" id="cb120"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb120-1"><a href="listen.html#cb120-1" aria-hidden="true" tabindex="-1"></a>a[[<span class="dv">1</span>]]</span></code></pre></div>
<pre><code>##  [1]  1  2  3  4  5  6  7  8  9 10</code></pre>
<div class="sourceCode" id="cb122"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb122-1"><a href="listen.html#cb122-1" aria-hidden="true" tabindex="-1"></a>b[[<span class="dv">1</span>]]</span></code></pre></div>
<pre><code>##  [1]  1  2  3  4  5  6  7  8  9 10</code></pre>
<div id="aufgabe-7" class="section level4">
<h4>Aufgabe</h4>
<p>Baue ein Skript, das eine Liste erstellt, die drei Einträge enthält.
Jeder dieser Einträge soll auch wieder eine Liste sein.
Das Skript soll nun mit Hilfe einer Schleife die Zahlen von 1 bis 100 durchgehen und alle durch 2 teilbaren Zahlen in den zweiten Eintrag, alle durch 3 teilbaren Zahlen in den dritten Eintrag und alle restlichen Zahlen in den ersten Eintrag einfügen.
Nutze hierfür den “Modulo”-Operator <code>%%</code>, der den ‘Rest’ einer Ganzzahldivision ausgibt.
Überlege dir, wie du mit Zahlen wie der 6 umgehst, die sowohl durch 3 als auch durch 2 teilbar sind.
Kleiner Tipp: <code>length</code> kann hier sehr hilfreich sein.</p>
<p>Zusatzaufgabe:
Überlege dir, wie man dieses Skript so umbauen könnte, dass es für einen Vektor mit beliebigen Teilern funktioniert.</p>
<details>
<summary>
Antwort
</summary>
<div class="sourceCode" id="cb124"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb124-1"><a href="listen.html#cb124-1" aria-hidden="true" tabindex="-1"></a>divisions <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="fu">list</span>(), <span class="fu">list</span>(), <span class="fu">list</span>())</span>
<span id="cb124-2"><a href="listen.html#cb124-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb124-3"><a href="listen.html#cb124-3" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">100</span>){</span>
<span id="cb124-4"><a href="listen.html#cb124-4" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(i<span class="sc">%%</span><span class="dv">2</span> <span class="sc">==</span> <span class="dv">0</span>){</span>
<span id="cb124-5"><a href="listen.html#cb124-5" aria-hidden="true" tabindex="-1"></a>    divisions[[<span class="dv">2</span>]][[<span class="fu">length</span>(divisions[[<span class="dv">2</span>]]) <span class="sc">+</span> <span class="dv">1</span>]] <span class="ot">&lt;-</span> i</span>
<span id="cb124-6"><a href="listen.html#cb124-6" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb124-7"><a href="listen.html#cb124-7" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(i<span class="sc">%%</span><span class="dv">3</span> <span class="sc">==</span> <span class="dv">0</span>){</span>
<span id="cb124-8"><a href="listen.html#cb124-8" aria-hidden="true" tabindex="-1"></a>    divisions[[<span class="dv">3</span>]][[<span class="fu">length</span>(divisions[[<span class="dv">3</span>]]) <span class="sc">+</span> <span class="dv">1</span>]] <span class="ot">&lt;-</span> i</span>
<span id="cb124-9"><a href="listen.html#cb124-9" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb124-10"><a href="listen.html#cb124-10" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(i<span class="sc">%%</span><span class="dv">2</span> <span class="sc">!=</span> <span class="dv">0</span> <span class="sc">&amp;</span> i<span class="sc">%%</span><span class="dv">3</span> <span class="sc">!=</span> <span class="dv">0</span>){</span>
<span id="cb124-11"><a href="listen.html#cb124-11" aria-hidden="true" tabindex="-1"></a>    divisions[[<span class="dv">1</span>]][[<span class="fu">length</span>(divisions[[<span class="dv">1</span>]]) <span class="sc">+</span> <span class="dv">1</span>]] <span class="ot">&lt;-</span> i</span>
<span id="cb124-12"><a href="listen.html#cb124-12" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb124-13"><a href="listen.html#cb124-13" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb124-14"><a href="listen.html#cb124-14" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(divisions)</span></code></pre></div>
<pre><code>##      Length Class  Mode
## [1,] 33     -none- list
## [2,] 50     -none- list
## [3,] 33     -none- list</code></pre>
<div class="sourceCode" id="cb126"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb126-1"><a href="listen.html#cb126-1" aria-hidden="true" tabindex="-1"></a><span class="do">## Zusatz:</span></span>
<span id="cb126-2"><a href="listen.html#cb126-2" aria-hidden="true" tabindex="-1"></a>divisions <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="fu">list</span>()) <span class="co"># mit einer leeren Liste für die nicht-teilbaren initiieren</span></span>
<span id="cb126-3"><a href="listen.html#cb126-3" aria-hidden="true" tabindex="-1"></a>divider <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">5</span>,<span class="dv">7</span>,<span class="dv">9</span>)</span>
<span id="cb126-4"><a href="listen.html#cb126-4" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> divider){</span>
<span id="cb126-5"><a href="listen.html#cb126-5" aria-hidden="true" tabindex="-1"></a>  divisions[[i]] <span class="ot">&lt;-</span> <span class="fu">list</span>()</span>
<span id="cb126-6"><a href="listen.html#cb126-6" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb126-7"><a href="listen.html#cb126-7" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">100</span>){</span>
<span id="cb126-8"><a href="listen.html#cb126-8" aria-hidden="true" tabindex="-1"></a>  divided <span class="ot">&lt;-</span>  F</span>
<span id="cb126-9"><a href="listen.html#cb126-9" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span>(j <span class="cf">in</span> divider){</span>
<span id="cb126-10"><a href="listen.html#cb126-10" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span>(i <span class="sc">%%</span> j <span class="sc">==</span> <span class="dv">0</span>){</span>
<span id="cb126-11"><a href="listen.html#cb126-11" aria-hidden="true" tabindex="-1"></a>      divisions[[j]][[<span class="fu">length</span>(divisions[[j]]) <span class="sc">+</span> <span class="dv">1</span>]] <span class="ot">&lt;-</span> i</span>
<span id="cb126-12"><a href="listen.html#cb126-12" aria-hidden="true" tabindex="-1"></a>      divided <span class="ot">&lt;-</span> T</span>
<span id="cb126-13"><a href="listen.html#cb126-13" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb126-14"><a href="listen.html#cb126-14" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb126-15"><a href="listen.html#cb126-15" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(<span class="sc">!</span>divided){</span>
<span id="cb126-16"><a href="listen.html#cb126-16" aria-hidden="true" tabindex="-1"></a>    divisions[[<span class="dv">1</span>]][[<span class="fu">length</span>(divisions[[<span class="dv">1</span>]]) <span class="sc">+</span> <span class="dv">1</span>]] <span class="ot">&lt;-</span> i</span>
<span id="cb126-17"><a href="listen.html#cb126-17" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb126-18"><a href="listen.html#cb126-18" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb126-19"><a href="listen.html#cb126-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb126-20"><a href="listen.html#cb126-20" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(divisions)</span></code></pre></div>
<pre><code>##       Length Class  Mode
##  [1,] 22     -none- list
##  [2,] 50     -none- list
##  [3,] 33     -none- list
##  [4,]  0     -none- NULL
##  [5,] 20     -none- list
##  [6,]  0     -none- NULL
##  [7,] 14     -none- list
##  [8,]  0     -none- NULL
##  [9,] 11     -none- list</code></pre>
<div class="sourceCode" id="cb128"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb128-1"><a href="listen.html#cb128-1" aria-hidden="true" tabindex="-1"></a><span class="fu">unlist</span>(divisions[[<span class="dv">1</span>]]) <span class="co"># Mit Teilern und ohne 1 haben wir hier die Primzahlen bis 100 gesammelt.</span></span></code></pre></div>
<pre><code>##  [1]  1 11 13 17 19 23 29 31 37 41 43 47 53 59 61 67 71 73 79 83 89 97</code></pre>
</details>
</div>
</div>
</div>
<h3>Literatur</h3>
<div id="refs" class="references csl-bib-body hanging-indent">
<div id="ref-wickhamAdvanced2019" class="csl-entry">
Wickham, Hadley. 2019. <em>Advanced r</em>. <span>CRC press</span>.
</div>
</div>
<div class="footnotes">
<hr />
<ol start="3">
<li id="fn3"><p>Wobei der Ausdruck “Vektoren” hier irreführend ist, in R wird eigentlich die Eltern-Klasse der Objekte <code>Vector</code> genannt, zu der <code>Atomic</code>(unsere “Vektoren”) und <code>List</code> gehören. Da wir aber in den Grundlagenfächern wegen der mathematischen Analogie “Vektor” zu den <code>Atomic</code>-Objekten gesagt haben, behalten wir das hier bei.<a href="listen.html#fnref3" class="footnote-back">↩︎</a></p></li>
</ol>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="schleifen.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="attribute.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["Robustheit.pdf"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
